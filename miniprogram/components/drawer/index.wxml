<!--miniprogram/components/drawer/index.wxml-->
<view wx:if="{{show}}" class="drawer-mask drawer-mask-open" bindtap="onClose"></view>

<view 
  wx:if="{{show}}"
  class="drawer-menu {{show ? 'drawer-open' : ''}} {{isSwiping ? 'drawer-swiping' : ''}}"
  style="transform: translate3d({{drawerTranslateX}}px, 0, 0);"
  animation="{{animationData}}"
  bindtouchstart="onTouchStart"
  catchtouchmove="onTouchMove"
  bindtouchend="onTouchEnd"
  catchtap="stopPropagation"
>
  <scroll-view 
    class="drawer-body" 
    scroll-y="{{!isSwiping}}"
    enhanced="true" 
    show-scrollbar="{{false}}"
    bindscroll="onScrollViewScroll"
  >
    <view class="drawer-section">
      <view class="drawer-section-title">{{ui.salaryTitle}}</view>
      <view class="drawer-grid">
        <view
          wx:for="{{salaryOptions}}"
          wx:key="*this"
          wx:for-index="idx"
          class="drawer-chip {{tempValue.salary === item ? 'drawer-chip-active' : ''}}"
          data-value="{{item}}"
          bindtap="onPickSalary"
        >
          <text class="drawer-chip-text">{{displaySalaryOptions[idx]}}</text>
        </view>
      </view>
    </view>

    <view class="drawer-section">
      <view class="drawer-section-title">{{ui.experienceTitle}}</view>
      <view class="drawer-grid">
        <view
          wx:for="{{experienceOptions}}"
          wx:key="*this"
          wx:for-index="idx"
          class="drawer-chip {{tempValue.experience === item ? 'drawer-chip-active' : ''}}"
          data-value="{{item}}"
          bindtap="onPickExperience"
        >
          <text class="drawer-chip-text">{{displayExperienceOptions[idx]}}</text>
        </view>
      </view>
    </view>

    <view class="drawer-section" wx:if="{{sourceOptions && sourceOptions.length > 0}}">
      <view class="drawer-section-title">{{ui.sourceTitle}}</view>
      <view class="drawer-grid">
        <view
          wx:for="{{sourceOptions}}"
          wx:key="*this"
          wx:for-index="idx"
          class="drawer-chip {{tempValue.source === item ? 'drawer-chip-active' : ''}}"
          data-value="{{item}}"
          bindtap="onPickSource"
        >
          <text class="drawer-chip-text">{{displaySourceOptions[idx]}}</text>
        </view>
      </view>
    </view>
  </scroll-view>

  <view class="drawer-footer">
    <view class="drawer-btn drawer-btn-ghost" bindtap="onReset">{{ui.clear}}</view>
    <view class="drawer-btn drawer-btn-primary" bindtap="onConfirm">{{ui.confirm}}</view>
  </view>
</view>
